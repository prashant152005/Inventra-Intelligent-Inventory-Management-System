<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register User | Inventra</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

    <style>
        :root{
            --bg:#f4f5ff;
            --card:rgba(255,255,255,0.55);
            --card-border:rgba(255,255,255,0.7);
            --text:#111;
            --accent:#6c63ff;
            --accent-soft:#e9e7ff;
            --success:#059669;
            --danger:#dc2626;
        }
        .dark{
            --bg:#111319;
            --card:rgba(30,32,40,0.6);
            --card-border:rgba(255,255,255,0.08);
            --text:#f1f1f1;
            --accent:#7b6dff;
            --accent-soft:#1c1e29;
        }

        body{
            margin:0;
            font-family:'Inter',sans-serif;
            background:var(--bg);
            color:var(--text);
            display:flex;
            height:100vh;
            overflow:hidden;
            transition:.3s;
        }

        /* SIDEBAR */
        .sidebar{
            width:250px;
            background:var(--card);
            backdrop-filter:blur(12px);
            border-right:1px solid var(--card-border);
            transition:.3s;
            overflow:hidden;
        }
        .sidebar.collapsed{ width:80px; }

        .sidebar h3{
            padding:1.2rem;
            font-weight:700;
        }

        .nav-link{
            display:flex;
            align-items:center;
            gap:.9rem;
            padding:.9rem 1.2rem;
            margin:.25rem .7rem;
            border-radius:10px;
            text-decoration:none;
            color:var(--text);
            font-weight:500;
            transition:.25s;
        }
        .nav-link:hover{ background:var(--accent-soft); }
        .nav-link.active{
            background:var(--accent);
            color:white;
        }
        .sidebar.collapsed .text{ display:none; }

        /* MAIN */
        .main{
            flex:1;
            display:flex;
            flex-direction:column;
        }

        /* TOPBAR */
        .topbar{
            height:60px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            padding:0 1.5rem;
            background:var(--card);
            backdrop-filter:blur(12px);
            border-bottom:1px solid var(--card-border);
        }
        .icon-btn{
            background:none;
            border:none;
            font-size:1.1rem;
            margin-left:.7rem;
            cursor:pointer;
            color:var(--text);
        }

        /* CONTENT */
        .content{
            padding:2rem;
            overflow-y:auto;
        }

        /* FORM CARD */
        .form-card{
            max-width:520px;
            margin:auto;
            background:var(--card);
            border:1px solid var(--card-border);
            backdrop-filter:blur(14px);
            border-radius:18px;
            padding:2rem 2.2rem;
            box-shadow:0 14px 32px rgba(0,0,0,0.12);
            animation:fadeUp .4s ease;
        }

        @keyframes fadeUp{
            from{opacity:0; transform:translateY(15px);}
            to{opacity:1; transform:none;}
        }

        .form-title{
            font-size:1.5rem;
            font-weight:700;
            margin-bottom:1.6rem;
            text-align:center;
        }

        .form-group{
            margin-bottom:1.1rem;
        }
        label{
            font-size:.9rem;
            font-weight:600;
            opacity:.85;
        }
        input, select{
            width:100%;
            margin-top:.35rem;
            padding:.7rem .8rem;
            border-radius:8px;
            border:1px solid var(--card-border);
            background:transparent;
            color:var(--text);
            font-size:.95rem;
        }
        input:focus, select:focus{
            outline:none;
            border-color:var(--accent);
            box-shadow:0 0 0 3px rgba(108,99,255,0.18);
        }

        .btn-primary{
            width:100%;
            margin-top:1.4rem;
            padding:.85rem;
            border:none;
            border-radius:10px;
            background:linear-gradient(135deg,var(--accent),#857dff);
            color:white;
            font-size:1rem;
            font-weight:600;
            cursor:pointer;
            transition:.25s;
        }
        .btn-primary:hover{
            transform:translateY(-2px);
            box-shadow:0 10px 26px rgba(108,99,255,0.4);
        }

        #error{
            margin-top:1rem;
            text-align:center;
            font-weight:600;
            color:var(--danger);
        }
    </style>
</head>

<body>

<script>
    const roleCheck = localStorage.getItem("role");
    if (roleCheck !== "ADMIN") {
        alert("Only Admin can access registration");
        window.location.href = "login.html";
    }
</script>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
    <h3><span class="text">Inventra</span></h3>
    <a class="nav-link" href="dashboard.html"><i class="fa-solid fa-chart-line"></i><span class="text">Dashboard</span></a>
    <a class="nav-link" href="products.html"><i class="fa-solid fa-box"></i><span class="text">Products</span></a>
    <a class="nav-link" href="low-stock.html"><i class="fa-solid fa-triangle-exclamation"></i><span class="text">Low Stock</span></a>
    <a class="nav-link" href="transactions.html"><i class="fa-solid fa-arrow-right-arrow-left"></i><span class="text">Transactions</span></a>
    <a class="nav-link" href="reports.html"><i class="fa-solid fa-chart-pie"></i><span class="text">Reports</span></a>
    <a class="nav-link" href="categories.html"><i class="fa-solid fa-layer-group"></i>Categories</a>
    <a class="nav-link" href="suppliers.html"><i class="fa-solid fa-truck"></i>Suppliers</a>
    <a class="nav-link active" href="register.html"><i class="fa-solid fa-user-plus"></i><span class="text">Register User</span></a>
    <a class="nav-link" href="login.html" style="color:#ff4f4f;"><i class="fa-solid fa-right-from-bracket"></i><span class="text">Logout</span></a>
</div>

<!-- MAIN -->
<div class="main">
    <div class="topbar">
        <h4 style="font-weight:600;">Register User</h4>
        <div>
            <span id="userRole"></span>
            <button class="icon-btn" id="themeToggle">
                <i class="fa-solid fa-moon"></i>
            </button>
            <button class="icon-btn" id="collapseBtn">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
    </div>

    <div class="content">
        <div class="form-card">
            <div class="form-title">Create New User</div>

            <div class="form-group">
                <label>Username</label>
                <input id="username" placeholder="Enter username">
            </div>

            <div class="form-group">
                <label>Full Name</label>
                <input id="fullName" placeholder="Enter full name">
            </div>

            <div class="form-group">
                <label>Email</label>
                <input id="email" type="email" placeholder="Enter email">
            </div>

            <div class="form-group">
                <label>Contact Number</label>
                <input id="contactNumber" placeholder="Enter contact number">
            </div>

            <div class="form-group">
                <label>Password</label>
                <input id="password" type="password" placeholder="Enter password">
            </div>

            <div class="form-group">
                <label>Confirm Password</label>
                <input id="confirmPassword" type="password" placeholder="Confirm password">
            </div>

            <div class="form-group">
                <label>User Role</label>
                <select id="role">
                    <option value="ADMIN">ADMIN</option>
                    <option value="EMPLOYEE">EMPLOYEE</option>
                </select>
            </div>

            <button class="btn-primary" onclick="registerUser()">Register User</button>
            <p id="error"></p>
        </div>
    </div>
</div>

<script src="js/auth.js"></script>

<script>
    const role = localStorage.getItem("role") || "USER";

    // âœ… SHOW ROLE IN TOPBAR
    document.getElementById("userRole").innerText = role;

    // sidebar collapse
    const sidebar = document.getElementById("sidebar");
    document.getElementById("collapseBtn").onclick = () =>
        sidebar.classList.toggle("collapsed");

    // theme toggle
    document.getElementById("themeToggle").onclick = () =>
        document.documentElement.classList.toggle("dark");
</script>


</body>
</html>
