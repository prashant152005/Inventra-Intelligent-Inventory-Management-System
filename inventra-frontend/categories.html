<!DOCTYPE html>
<html>
<head>
    <title>Categories | Inventra</title>
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>

<div class="topbar">
    <h2>Inventory System</h2>
    <span id="userRole"></span>
</div>

<div class="container">

    <div class="sidebar">
        <a href="dashboard.html">ğŸ“Š Dashboard</a>
        <a href="products.html">ğŸ“¦ Products</a>
        <a href="low-stock.html">âš  Low Stock</a>

        <!-- ADMIN ONLY -->
        <a href="add-product.html" class="admin-only">â• Add Product</a>
        <a href="categories.html" class="admin-only active">ğŸ“ Categories</a>

        <a href="login.html" class="logout">âœ Logout</a>
    </div>

    <div class="content">
        <h2>Categories</h2>

        <!-- Add category -->
        <div style="margin-bottom: 15px;">
            <input type="text" id="categoryName" placeholder="Category name">
            <button class="primary-btn" onclick="addCategory()">Add Category</button>
        </div>

        <!-- Category table -->
        <table class="product-table" style="max-width:500px;">
            <thead>
                <tr>
                    <th>Name</th>
                    <th class="admin-only">Action</th>
                </tr>
            </thead>
            <tbody id="categoryTableBody"></tbody>
            <!-- Empty message -->
        </table>
        <p id="emptyMsg" style="display:none; margin-top:10px; color:gray;">
            No categories found
        </p>


    </div>

</div>

<script src="js/auth.js"></script>
<script src="js/categories.js"></script>

<script>
if (role !== "ADMIN") {
    document.querySelectorAll(".admin-only")
        .forEach(el => el.style.display = "none");
}
</script>

</body>
</html>
